(function(t){function a(a){for(var s,o,i=a[0],c=a[1],l=a[2],d=0,h=[];d<i.length;d++)o=i[d],n[o]&&h.push(n[o][0]),n[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);m&&m(a);while(h.length)h.shift()();return r.push.apply(r,l||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],s=!0,i=1;i<e.length;i++){var c=e[i];0!==n[c]&&(s=!1)}s&&(r.splice(a--,1),t=o(o.s=e[0]))}return t}var s={},n={app:0},r=[];function o(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=s,o.d=function(t,a,e){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)o.d(e,s,function(a){return t[a]}.bind(null,s));return e},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="/'/dragon/'/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=a,i=i.slice();for(var l=0;l<i.length;l++)a(i[l]);var m=c;r.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";var s=e("64a9"),n=e.n(s);n.a},"568f":function(t,a,e){"use strict";var s=e("ff7b"),n=e.n(s);n.a},"56d7":function(t,a,e){"use strict";e.r(a);var s=e("2b0e"),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[t._m(0),e("router-view")],1)},r=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h1",[t._v("\n    Champions\n    "),s("img",{attrs:{alt:"Vue logo",height:"1rem",src:e("cf05")}}),t._v("s Dragons\n  ")])}],o=(e("034f"),e("2877")),i={},c=Object(o["a"])(i,n,r,!1,null,null,null),l=c.exports,m=e("8c4f"),d=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("button",{directives:[{name:"show",rawName:"v-show",value:t.dragon&&t.champion,expression:"dragon && champion"}],staticClass:"btn btn-success",on:{click:t.createGame}},[t._v("FIGHT!!!")])])]),e("div",{staticClass:"row"},[e("champions"),e("dragons")],1)])},h=[],p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-6"},[e("h3",[t._v("Choose Your Champion!")]),e("div",{staticClass:"row"},t._l(t.champions,function(a){return e("div",{key:a._id,staticClass:"card col-6",class:{selected:a._id==t.selectedChamp},on:{click:function(e){return t.selectChampion(a._id)}}},[e("img",{staticClass:"card-img-top",attrs:{src:a.imgUrl,alt:"..."}}),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v(t._s(a.name)+": "+t._s(a.class))]),e("h5",[t._v("HP: "+t._s(a.hp))])])])}),0)])},u=[],g={name:"Champions",data(){return{}},computed:{champions(){return this.$store.state.champions},selectedChamp(){return this.$store.state.champion}},methods:{selectChampion(t){this.$store.dispatch("setChampion",t)}}},f=g,v=Object(o["a"])(f,p,u,!1,null,null,null),_=v.exports,C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-6"},[e("h3",[t._v("Choose Your Dragon!")]),e("div",{staticClass:"row"},t._l(t.dragons,function(a){return e("div",{key:a._id,staticClass:"card col-6",class:{selected:a._id==t.selectedDragon},on:{click:function(e){return t.selectDragon(a._id)}}},[e("img",{staticClass:"card-img-top",attrs:{src:a.imgUrl,alt:"..."}}),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v(t._s(a.name))]),e("h5",[t._v("HP: "+t._s(a.hp))])])])}),0)])},b=[],y={name:"Dragons",data(){return{}},computed:{dragons(){return this.$store.state.dragons},selectedDragon(){return this.$store.state.dragon}},methods:{selectDragon(t){this.$store.dispatch("setDragon",t)}}},w=y,$=Object(o["a"])(w,C,b,!1,null,null,null),D=$.exports,k={name:"home",mounted(){this.$store.dispatch("getChampions"),this.$store.dispatch("getDragons")},computed:{dragon(){return this.$store.state.dragon},champion(){return this.$store.state.champion}},methods:{createGame(){let t={dragon:this.dragon,champion:this.champion};this.$store.dispatch("createGame",t)}},components:{Champions:_,Dragons:D}},x=k,O=(e("cccb"),Object(o["a"])(x,d,h,!1,null,null,null)),j=O.exports,G=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"game container-fluid"},[t.game._id&&!t.game.gameOver?e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("div",{staticClass:"card champion"},[e("img",{staticClass:"card-img-top",attrs:{src:t.game.champion.imgUrl,alt:"..."}}),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v(t._s(t.game.champion.name))]),e("p",{staticClass:"card-text"},[t._v("Health: "+t._s(t.game.championHp)+"/"+t._s(t.game.champion.hp))]),t._l(t.game.champion.attacks,function(a){return e("button",{key:a._id,staticClass:"btn btn-warning m-1",on:{click:function(e){return t.sendAttack(a.name)}}},[t._v(t._s(a.name)+" : "+t._s(a.damage))])})],2)])]),e("div",{staticClass:"col-6"},[e("div",{staticClass:"card dragon"},[e("img",{staticClass:"card-img-top",attrs:{src:t.game.dragon.imgUrl,alt:"..."}}),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v(t._s(t.game.dragon.name))]),e("p",{staticClass:"card-text"},[t._v("Health: "+t._s(t.game.dragonHp)+"/"+t._s(t.game.dragon.hp))])])])])]):t.game._id?e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h1",[t._v("THIS GAME HAS ENDED!!!")]),e("h3",[t._v("The winner was "+t._s(t.game.dragonHp>t.game.championHp?t.game.dragon.name:t.game.champion.name))]),e("router-link",{attrs:{to:{name:"home"}}},[t._v("Retry?")])],1)]):t._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h6",[e("em",[e("strong",[t._v(t._s(t.game.history[t.game.history.length-1]))])])])])])])},H=[],E={name:"Game",props:["id"],mounted(){this.$store.dispatch("getGameById",this.id)},data(){return{}},computed:{game(){return this.$store.state.game}},methods:{sendAttack(t){let a={attack:t,id:this.id};this.$store.dispatch("attack",a)}}},P=E,S=(e("568f"),Object(o["a"])(P,G,H,!1,null,null,null)),T=S.exports;s["a"].use(m["a"]);var M=new m["a"]({routes:[{path:"/",name:"home",component:j},{path:"/game/:id",name:"game",props:!0,component:T}]}),U=e("2f62"),A=e("bc3a"),I=e.n(A);const B=I.a.create({baseURL:"//localhost:3000/api"});s["a"].use(U["a"]);var J=new U["a"].Store({state:{champions:[],dragons:[],champion:"",dragon:"",game:{}},mutations:{setChampions(t,a){t.champions=a},setDragons(t,a){t.dragons=a},setDragon(t,a){t.dragon=a},setChampion(t,a){t.champion=a},setGame(t,a){t.game=a}},actions:{async getChampions({commit:t,dispatch:a}){try{let a=await B.get("champions");t("setChampions",a.data)}catch(e){console.error(e)}},async getDragons({commit:t,dispatch:a}){try{let a=await B.get("dragons");t("setDragons",a.data)}catch(e){console.error(e)}},async getGameById({commit:t,dispatch:a},e){let s=await B.get("games/"+e);t("setGame",s.data)},setChampion({commit:t,dispatch:a},e){t("setChampion",e)},setDragon({commit:t,dispatch:a},e){t("setDragon",e)},async createGame({commit:t,dispatch:a},e){try{let t=await B.post("games",e);M.push({name:"game",params:{id:t.data._id}})}catch(s){console.error(s)}},async attack({commit:t,dispatch:a},e){try{let a=await B.put("games/"+e.id,e);t("setGame",a.data)}catch(s){console.error(s)}}}});s["a"].config.productionTip=!1,new s["a"]({router:M,store:J,render:function(t){return t(l)}}).$mount("#app")},"64a9":function(t,a,e){},cccb:function(t,a,e){"use strict";var s=e("d563"),n=e.n(s);n.a},cf05:function(t,a,e){t.exports=e.p+"img/logo.82b9c7a5.png"},d563:function(t,a,e){},ff7b:function(t,a,e){}});
//# sourceMappingURL=app.44183cb6.js.map